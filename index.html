<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Súng Cối 60mm</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>
    <style>
        body { margin: 0; background: #0b0f0a; color: white; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        
        /* Tiêu đề trên cùng */
        .header {
            position: absolute; top: 0; width: 100%; text-align: center;
            background: rgba(0, 0, 0, 0.6); padding: 10px 0; z-index: 10;
            border-bottom: 1px solid #2e7d32; text-transform: uppercase; letter-spacing: 2px;
        }

        /* Hàng phím bên TRÁI - Chuyển cụm */
        .sidebar-left {
            position: absolute; left: 15px; top: 50%; transform: translateY(-50%);
            display: flex; flex-direction: column; gap: 15px; z-index: 10;
        }

        /* Hàng phím bên PHẢI - Thuyết minh */
        .sidebar-right {
            position: absolute; right: 15px; top: 50%; transform: translateY(-50%);
            display: flex; flex-direction: column; gap: 15px; z-index: 10;
        }

        .btn {
            width: 140px; padding: 12px; cursor: pointer;
            background: rgba(46, 125, 50, 0.8); color: white;
            border: 1px solid #4caf50; border-radius: 4px;
            font-weight: bold; transition: 0.3s; text-align: center;
        }
        .btn:hover { background: #4caf50; box-shadow: 0 0 10px #4caf50; }
        
        .btn-info { background: rgba(2, 119, 189, 0.8); border-color: #03a9f4; }
        .btn-info:hover { background: #03a9f4; box-shadow: 0 0 10px #03a9f4; }

        model-viewer { width: 100vw; height: 100vh; background: #000; }

        /* Vùng hiển thị chữ thuyết minh */
        #text-box {
            position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: 60%; max-height: 150px; background: rgba(0, 0, 0, 0.8);
            border: 1px solid #444; padding: 15px; border-radius: 8px;
            display: none; overflow-y: auto; z-index: 10; font-size: 14px; line-height: 1.5;
        }

        /* Ẩn trình phát nhạc mặc định, chúng ta sẽ điều khiển bằng nút */
        audio { display: none; }
    </style>
</head>
<body>

    <div class="header"><h1>Súng Cối 60mm</h1></div>

    <div class="sidebar-left">
        <div style="font-size: 12px; color: #888; text-align: center;">CÁC CỤM CHI TIẾT</div>
        <button class="btn" onclick="location.href='pages/TayCam.html'">Cụm Tay Cầm</button>
        <button class="btn" onclick="location.href='pages/CoCauTam.html'">Cơ Cấu Tầm</button>
        <button class="btn" onclick="location.href='pages/CoCauHuong.html'">Cơ Cấu Hướng</button>
    </div>

    <div class="sidebar-right">
        <div style="font-size: 12px; color: #888; text-align: center;">HỖ TRỢ</div>
        <button class="btn btn-info" onclick="toggleText()">Thuyết Minh Chữ</button>
        <button class="btn btn-info" id="audio-btn" onclick="toggleAudio()">Phát Âm Thanh</button>
    </div>

    <model-viewer src="models/LapGhepTong.glb" camera-controls auto-rotate shadow-intensity="1"></model-viewer>

    <div id="text-box"></div>
    <audio id="myAudio" src="thuyet-minh.mp3"></audio>

    <script>
        function toggleText() {
            const box = document.getElementById('text-box');
            if (box.style.display === 'block') {
                box.style.display = 'none';
            } else {
                fetch('ThuyetMinh.txt')
                    .then(res => res.text())
                    .then(data => {
                        box.innerText = data;
                        box.style.display = 'block';
                    });
            }
        }

        const audio = document.getElementById('myAudio');
        const audioBtn = document.getElementById('audio-btn');

        function toggleAudio() {
            if (audio.paused) {
                audio.play();
                audioBtn.innerText = "Dừng Âm Thanh";
                audioBtn.style.background = "#d32f2f"; // Đổi sang màu đỏ khi đang phát
            } else {
                audio.pause();
                audioBtn.innerText = "Phát Âm Thanh";
                audioBtn.style.background = "rgba(2, 119, 189, 0.8)";
            }
        }
    </script>
</body>
</html>
